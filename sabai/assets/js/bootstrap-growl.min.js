(function(h,k,m,a){var j="growl",i="plugin_"+j,c={element:"body",type:"info",allow_dismiss:true,placement:{from:"top",align:"right"},offset:20,spacing:10,z_index:1031,delay:5000,timer:1000,url_target:"_blank",mouse_over:false,animate:{enter:"animated fadeInDown",exit:"animated fadeOutUp"},onShow:null,onShown:null,onHide:null,onHidden:null,icon_type:"class",template:'<div data-growl="container" class="sabai-alert sabai-alert-dismissible" role="alert"><button type="button" class="sabai-close" data-growl="dismiss"><span aria-hidden="true">&times;</span><span class="sabai-sr-only">Close</span></button><span data-growl="icon"></span><span data-growl="title"></span><span data-growl="message"></span><a href="#" data-growl="url"></a></div>'};var l=function(q,p){c=h.extend(true,{},c,p)},f=function(p){if(!p){h('[data-growl="container"]').find('[data-growl="dismiss"]').trigger("click")}else{h('[data-growl="container"][data-growl-position="'+p+'"]').find('[data-growl="dismiss"]').trigger("click")}},n=function(q,r,p){var r={content:{message:typeof r=="object"?r.message:r,title:r.title?r.title:null,icon:r.icon?r.icon:null,url:r.url?r.url:null}};p=h.extend(true,{},r,p);this.settings=h.extend(true,{},c,p);plugin=this;o(p,this.settings,plugin);this.$template=$template},o=function(p,q,r){var s={settings:q,$element:h(q.element),template:q.template};if(typeof q.offset=="number"){q.offset={x:q.offset,y:q.offset}}$template=b(s);g($template,s.settings);e($template,s.settings);d($template,s.settings,r)},b=function(q){var p=h(q.settings.template);p.addClass("sabai-alert-"+q.settings.type);p.attr("data-growl-position",q.settings.placement.from+"-"+q.settings.placement.align);p.find('[data-growl="dismiss"]').css("display","none");if(q.settings.allow_dismiss){p.find('[data-growl="dismiss"]').css("display","inline-block")}return p},g=function(p,q){p.find('[data-growl="dismiss"]').css({"z-index":((q.z_index-1)>=1?(q.z_index-1):1)});if(q.content.icon){if(q.icon_type.toLowerCase()=="class"){p.find('[data-growl="icon"]').addClass(q.content.icon)}else{if(p.find('[data-growl="icon"]').is("img")){p.find('[data-growl="icon"]').attr("src",q.content.icon)}else{p.find('[data-growl="icon"]').append('<img src="'+q.content.icon+'" />')}}}if(q.content.title){p.find('[data-growl="title"]').html(q.content.title)}if(q.content.message){p.find('[data-growl="message"]').html(q.content.message).css({"font-size":"14px","line-height":1.5})}if(q.content.url){p.find('[data-growl="url"]').attr("href",q.content.url).attr("target",q.url_target);p.find('[data-growl="url"]').css({position:"absolute",top:"0px",left:"0px",width:"100%",height:"100%","z-index":((q.z_index-2)>=1?(q.z_index-2):1)})}},e=function(q,r){var t=r.offset.y,p={position:(r.element==="body"?"fixed":"absolute"),margin:0,"z-index":r.z_index,display:"inline-block"},s=false;h('[data-growl-position="'+r.placement.from+"-"+r.placement.align+'"]').each(function(){return t=Math.max(t,parseInt(h(this).css(r.placement.from))+h(this).outerHeight()+r.spacing)});p[r.placement.from]=t+"px";q.css(p);if(r.onShow){r.onShow(event)}h(r.element).append(q);switch(r.placement.align){case"center":q.css({left:"50%",marginLeft:-(q.outerWidth()/2)+"px"});break;case"left":q.css("left",r.offset.x+"px");break;case"right":q.css("right",r.offset.x+"px");break}q.addClass("growl-animated");q.one("webkitAnimationStart oanimationstart MSAnimationStart animationstart",function(u){s=true});q.one("webkitAnimationEnd oanimationend MSAnimationEnd animationend",function(u){if(r.onShown){r.onShown(u)}});setTimeout(function(){if(!s){if(r.onShown){r.onShown(event)}}},600)},d=function(p,q,r){p.addClass(q.animate.enter);p.find('[data-growl="dismiss"]').on("click",function(){r.close()});p.on("mouseover",function(t){p.addClass("hovering")}).on("mouseout",function(){p.removeClass("hovering")});if(q.delay>=1){p.data("growl-delay",q.delay);var s=setInterval(function(){var t=parseInt(p.data("growl-delay"))-q.timer;if((!p.hasClass("hovering")&&q.mouse_over=="pause")||q.mouse_over!="pause"){p.data("growl-delay",t)}if(t<=0){clearInterval(s);r.close()}},q.timer)}};n.prototype={update:function(p,q){switch(p){case"icon":if(this.settings.icon_type.toLowerCase()=="class"){this.$template.find('[data-growl="icon"]').removeClass(this.settings.content.icon);this.$template.find('[data-growl="icon"]').addClass(q)}else{if(this.$template.find('[data-growl="icon"]').is("img")){this.$template.find('[data-growl="icon"]')}else{this.$template.find('[data-growl="icon"]').find("img").attr().attr("src",q)}}break;case"url":this.$template.find('[data-growl="url"]').attr("href",q);break;case"type":this.$template.removeClass("sabai-alert-"+this.settings.type);this.$template.addClass("sabai-alert-"+q);break;default:this.$template.find('[data-growl="'+p+'"]').html(q)}return this},close:function(){var r=this.$template,p=this.settings,s=r.css(p.placement.from),q=false;if(p.onHide){p.onHide(event)}r.addClass(this.settings.animate.exit);r.nextAll('[data-growl-position="'+this.settings.placement.from+"-"+this.settings.placement.align+'"]').each(function(){h(this).css(p.placement.from,s);s=(parseInt(s)+(p.spacing))+h(this).outerHeight()});r.one("webkitAnimationStart oanimationstart MSAnimationStart animationstart",function(t){q=true});r.one("webkitAnimationEnd oanimationend MSAnimationEnd animationend",function(t){h(this).remove();if(p.onHidden){p.onHidden(t)}});setTimeout(function(){if(!q){r.remove();if(p.onHidden){p.onHidden(event)}}},100);return this}};h.growl=function(r,p){if(r==false&&p.command=="closeAll"){f(p.position);return false}else{if(r==false){l(this,p);return false}}var q=new n(this,r,p);return q}})(jQuery,window,document);